# ドキュメントテンプレート

このディレクトリには、新規タスク作成時に使用する公式テンプレートが格納されています。

## 使用方法

### 新規タスクの要件定義書を作成する場合

1. `requirements.md.template` をコピー
2. `docs/specs/issues/[issue番号]-[機能名]/requirements.md` として保存
3. テンプレート内のコメントに従って内容を記入
4. **「受け入れ基準（Acceptance Criteria）」セクションは必ず記入すること**

### 新規タスクの設計書を作成する場合

1. `design.md.template` をコピー
2. `docs/specs/issues/[issue番号]-[機能名]/design.md` として保存
3. テンプレート内のコメントに従って内容を記入

## 重要事項

### 受け入れ基準（Acceptance Criteria）について

- **受け入れ基準（Acceptance Criteria）セクションは必須です**
- QAエージェント（task-qa）はこのセクションを参照してテストシナリオを作成します
- セクションの構造を変更しないでください
- Given/When/Then形式を使用してください

### Given/When/Then形式の書き方

受け入れ基準は以下の形式で記載してください：

```markdown
- [ ] Given: [前提条件]
      When: [実行する操作]
      Then: [期待される結果]
```

**良い例**:
```markdown
- [ ] Given: ログインページにアクセスした
      When: 有効なメールアドレスを入力して送信
      Then: 成功メッセージが表示され、メールが送信される
```

**悪い例**:
```markdown
- [ ] ログインフォームが実装されている
- [ ] メール送信機能が動作すること
```

### 受け入れ基準作成のガイドライン

詳細は `docs/steering/acceptance-criteria-and-qa-guide.md` を参照してください。

#### Do（推奨）
- 振る舞い・入力・観測可能な結果をセットで書く（Given/When/Then）
- ビジネス価値やユーザー影響が分かる文脈を添える
- 正常系に加え、代表的な異常・境界ケースを列挙する
- 観測手段（APIレスポンス、イベント、DB状態など）を明示する
- 実装と無関係な用語で書き、内部構造への言及は避ける

#### Don't（非推奨）
- 「ファイルが存在する」「〇〇を返すクラスがある」など構造・命名のみを確認させる
- 単一の肯定文で完結させて振る舞いの条件や観測結果を書かない
- テストレベルを曖昧にし、誰がどの観点で検証するか不明瞭にする
- 期待結果を「問題ないこと」「成功すること」で済ませる
- 実装手段（特定フレームワーク、DBテーブル構造など）を強制する

## テンプレート一覧

### requirements.md.template

要件定義書のテンプレートです。以下のセクションを含みます：

- 概要
- AS-IS/TO-BE
- ビジネス価値
- スコープ
- 画面要件（該当する場合）
- ユーザーストーリー
  - **受け入れ基準（必須）**
- 詳細なビジネス要件
- 非機能要件
- 技術的制約
- 依存関係
- リスクと対策
- 成功指標

### design.md.template

設計書のテンプレートです。以下のセクションを含みます：

- システムアーキテクチャ
- データモデル
- API仕様
- フロントエンドコンポーネント構造
- 技術選定
- セキュリティ考慮事項
- パフォーマンス考慮事項
- テスト戦略
- マイグレーション戦略（該当する場合）

## 関連ドキュメント

- [タスク管理ガイド](../steering/task-management.md)
- [受け入れ基準とQAガイド](../steering/acceptance-criteria-and-qa-guide.md)
- [実装例](../example/specs/issues/issue999-example-task/)

## サポート

テンプレートの使用方法や記載内容について不明な点がある場合は、既存の実装例（`docs/example/specs/issues/issue999-example-task/`）を参照してください。
